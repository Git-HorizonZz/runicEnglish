<!DOCTYPE html>
<html>
  <head>
    <title>English Runes</title>
    <link rel=stylesheet href=style.css>
    <link rel="shortcut icon" href=as_mask.png>
  </head>
  <body>
    <div id=outerbox>
        <div id=english>
          <h1>English to Anglo-Saxon Rune Converter</h1>
          <form>
              <p id=intro>What would it be like if English still used a runic script, and not a latin one?</p>
              <p id=iLabel>Enter a word or phrase:</p>
              <input type=text id=inputText onkeyup=convertToRunes()>
          </form>
        </div>
        <p id=output></p>
    </div>
    <script>
      const runeMap = {
          'th' : 'ᚦ', 'ng' : 'ᛝ', 'ae' : 'ᛇ', 'ea' : 'ᛠ', 'qu' : 'ᛢ', 'cw' : 'ᛢ', 'st' : 'ᛥ',
          'a': 'ᚪ', 'b': 'ᛒ', 'c': 'ᚳ', 'd': 'ᛞ',
          'e': 'ᛖ', 'f': 'ᚠ', 'g': 'ᚷ', 'h': 'ᚻ',
          'i': 'ᛁ', 'j': 'ᛡ', 'k': 'ᛣ', 'l': 'ᛚ',
          'm': 'ᛗ', 'n': 'ᚾ', 'o': 'ᚩ', 'p': 'ᛈ',
          'q': 'ᛢ', 'r': 'ᚱ', 's': 'ᛋ', 't': 'ᛏ',
          'u': 'ᚢ', 'v': 'ᚡ', 'w': 'ᚹ', 'x': 'ᛉ',
          'y': 'ᚣ', 'z': 'ᚴ',
          'TH' : 'ᚦ', 'NG' : 'ᛝ', 'AE' : 'ᛇ', 'EA' : 'ᛠ', 'QU' : 'ᛢ', 'CW' : 'ᛢ', 'ST' : 'ᛥ',
          'A': 'ᚪ', 'B': 'ᛒ', 'C': 'ᚳ', 'D': 'ᛞ',
          'E': 'ᛖ', 'F': 'ᚠ', 'G': 'ᚷ', 'H': 'ᚻ',
          'I': 'ᛁ', 'J': 'ᛡ', 'K': 'ᛣ', 'L': 'ᛚ',
          'M': 'ᛗ', 'N': 'ᚾ', 'O': 'ᚩ', 'P': 'ᛈ',
          'Q': 'ᛢ', 'R': 'ᚱ', 'S': 'ᛋ', 'T': 'ᛏ',
          'U': 'ᚢ', 'V': 'ᚡ', 'W': 'ᚹ', 'X': 'ᛉ',
          'Y': 'ᚣ', 'Z': 'ᚴ',
          'Th' : 'ᚦ', 'Ng' : 'ᛝ', 'Ae' : 'ᛇ', 'Ea' : 'ᛠ', 'Qu' : 'ᛢ', 'Cw' : 'ᛢ', 'St' : 'ᛥ',
          'tH' : 'ᚦ', 'nG' : 'ᛝ', 'eA' : 'ᛇ', 'eA' : 'ᛠ', 'qU' : 'ᛢ', 'cW' : 'ᛢ', 'sT' : 'ᛥ',
          '-' : '-'
      };

      function convertToRunes() {
          const inputText = document.getElementById('inputText').value
          const oL = document.getElementById('output').innerHTML.length
          let outputText = ''

          for (let i = 0; i < inputText.length; i++) {
              let next = inputText.substr(i, 2)
              let rune = runeMap[next]
              let rune2 = ''
              console.log(next+' : '+rune)
              if(!rune || rune==undefined) {
                  rune = runeMap[inputText[i]]
                  rune2 = runeMap[inputText[i+1]]
              }
              if (rune) {
                  if (rune == undefined)
                  {
                      rune = ' '
                  }
                  if (rune2 == '')
                  {
                      if(next.length === 2) 
                      {
                          i++
                      }
                  }
                  outputText += rune;
              } else {
                  outputText += inputText[i]
              }
          }
          document.getElementById('output').innerHTML = outputText
        }
    </script>
  </body>
</html>